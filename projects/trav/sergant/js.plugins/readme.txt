
Хочется, чтобы несколько скриптов не конфликтовали. 
Если один выполняется на этом сервере - другой не мешает.

раз в минуту устанавливается параметр "server+id" с текущим с=временем.

Плагиносоздание
-- плагин - комплект с js скриптом - именем плагина, 
css - стили, html - шаблоны 

Интерфейс плагин - engine

-- дифференциация голов.
---- гол первоочередной
---- гол отложенный до точного времени 
-- способы обслуживания голов
---- каждый раз.
---- если открыто несколько окон - отрабатывается только в одном

Порядок вызова событий engine

- событие page_loaded вызывается сразу после инсталляции всех плагинов в engine


-- Защита от цикла. Если голы обсчитываются более, чем 2-3-5 секунд, 
между их выполнением выставляется таймаут в 1 сек. 
После полной их раскрутки - обсчитываются обслуженные и выставляется нужный таймаут.

-- примерная дисциплина связывания голов.
 ---- Гол: послать форму по адресу XX должен породить цепочку:
   -- "перейти по адресу XXX"
    |- сканировать и заполнить форму + нажать на сабмит.

    
 цель - построить здание
  -- подцель - получить информацию о рессуурсах
  |- рессурсы актуальны ?
  |-нет- перейти на страницу с рессурсами
    |-- сканировать рессурсы
  -- перейти на страницу со строительством
    |-- рессурсов мало
      |-да- анализировать примерное время появления рессурсов
      |---- отложить задачу на время
    |--  
    |-- если рессурсов мало - отложить строительство.
    
 Структура объектов
 Карта -  объект 
 {'-40x386':{vilage:{player:xxx,population:yy,resources:[10,20,30,40]},terrain:{}}
 }
 Каждый элемент сохраняется в отдельной строке.
    
    
 Идеология сериалайза
 -- есть список объектов, которые не сохраняются...   
     